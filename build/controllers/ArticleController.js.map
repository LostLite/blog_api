{"version":3,"sources":["../../server/controllers/ArticleController.js"],"names":["util","Util","ArticleController","request","response","ArticleService","getAllArticles","allArticles","length","setSuccess","send","setError","message","body","title","description","addArticle","createdArticle","alteredArticle","id","params","Number","updateArticle","updatedArticle","getArticle","theArticle","deleteArticle","articleToDelete"],"mappings":"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","sourcesContent":["import ArticleService from '../services/ArticleService';\nimport Util from '../utils/Utils';\n\nconst util = new Util();\n\nclass ArticleController {\n  static async getAllArticles(request, response) {\n    try {\n      const allArticles = await ArticleService.getAllArticles();\n      if (allArticles.length > 0) {\n        util.setSuccess(200, 'Articles Found', allArticles);\n      } else {\n        util.setSuccess(200, 'No articles found');\n      }\n      return util.send(response);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(response);\n    }\n  }\n\n  static async addArticle(request, response) {\n    const { title, description, body } = request.body;\n    if (!title || !description || !body) {\n      util.setError(400, 'Please provide all complete details');\n      return util.send(response);\n    }\n\n    try {\n      const createdArticle = await ArticleService.addArticle({ title, description, body });\n      util.setSuccess(201, 'Article Added!', createdArticle);\n      return util.send(response);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(response);\n    }\n  }\n\n  static async updateArticle(request, response) {\n    const alteredArticle = request.body;\n    const { id } = request.params;\n    if (!Number(id)) {\n      util.setError(400, 'Provide a valid numeric value');\n      return util.send(response);\n    }\n    try {\n      const updatedArticle = await ArticleService.updateArticle(id, alteredArticle);\n      if (!updatedArticle) {\n        util.setError(404, `Cannot find article with the provided Id ${id}`);\n      } else {\n        util.setSuccess(200, 'Article updated', updatedArticle);\n      }\n      return util.send(response);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(response);\n    }\n  }\n\n  static async getArticle(request, response) {\n    const { id } = request.params;\n    if (!Number(id)) {\n      util.setError(400, 'Please provide a valid ID');\n      return util.send(response);\n    }\n\n    try {\n      const theArticle = await ArticleService.getArticle(id);\n\n      if (!theArticle) {\n        util.setError(400, `Could not find article with that Id: ${id}`);\n      } else {\n        util.setSuccess(200, 'Found Article', theArticle);\n      }\n\n      return util.send(response);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(response);\n    }\n  }\n\n  static async deleteArticle(request, response) {\n    const { id } = request.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please provide a numeric value');\n      return util.send(response);\n    }\n\n    try {\n      const articleToDelete = await ArticleService.deleteArticle(id);\n\n      if (articleToDelete) {\n        util.setSuccess(200, 'Article deleted');\n      } else {\n        util.setError(404, `Article with the id ${id} cannot be found`);\n      }\n      return util.send(response);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(response);\n    }\n  }\n}\n\nexport default ArticleController;\n"],"file":"ArticleController.js"}